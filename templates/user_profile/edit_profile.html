{% extends 'user_profile/base.html' %}

{% block content %}
  <div class="container">
    <div class="row card2">
        <h2>Edit Profile</h2>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="form-group">
              <label for="{{ form.username.id_for_label }}">Username:</label>
              {{ form.username }}
            </div>
            
            <div class="form-group">
              <label for="{{ form.profile_image.id_for_label }}">Profile Image:</label>
              {% if form.instance.profile_image %}
                  <img src="{{ form.instance.profile_image.url }}" alt="Current Profile Image" width="100" height="100" class="rounded-circle">
                  <br>
                  <label>Change Profile Image:</label>
              {% endif %}
              <input type="file" name="{{ form.profile_image.name }}" accept="image/*" id="{{ form.profile_image.id_for_label }}">
            </div>

            <div class="form-group">
              <label>Color Theme:</label>
              <div class="btn-group" role="group" aria-label="Color Theme">
                  {% for choice in color_choices %}
                      <input type="radio" name="color_theme" id="color-{{ choice.0 }}" value="{{ choice.0 }}" {% if choice.0 == form.color_theme.value %}checked{% endif %}>
                      <label class="btn btn-color" for="color-{{ choice.0 }}">
                          <div class="color-circle {{ choice.0 }}"></div>
                      </label>
                  {% endfor %}
              </div>
            </div>
          
            <input type="submit" value="Update">
        </form>        
        <p><a href="{% url 'view_profile' %}">View Profile</a></p>
    </div>
  </div>
{% endblock %}
